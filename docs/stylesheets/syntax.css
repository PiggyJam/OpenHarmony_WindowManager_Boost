/* ========================================
   Code Syntax Highlighting
   Technical Blueprint Theme
   Based on Monokai with blueprint colors
   ======================================== */

/* Code block container */
.highlight {
  background: var(--bp-bg-secondary) !important;
  border-radius: var(--bp-radius-md);
  margin: var(--bp-space-lg) 0;
}

/* Line numbers */
.linenos {
  background: var(--bp-bg-tertiary);
  color: var(--bp-text-muted);
  padding: 0 var(--bp-space-md);
  border-right: 1px solid var(--bp-border);
  font-family: var(--bp-font-mono);
  font-size: 0.85rem;
  line-height: 1.7;
  user-select: none;
}

.codehilite {
  padding: 0 var(--bp-space-md);
}

/* Syntax colors - Monokai inspired */
.codehilite .hll {
  background: rgba(255, 107, 53, 0.1);
}

.codehilite .c {
  color: #75715E;
  font-style: italic;
}

.codehilite .err {
  color: var(--bp-error);
  background: rgba(239, 68, 68, 0.1);
}

.codehilite .k {
  color: #F92672;
  font-weight: 600;
}

.codehilite .l {
  color: #AE81FF;
}

.codehilite .n {
  color: var(--bp-text-primary);
}

.codehilite .o {
  color: #F92672;
}

.codehilite .p {
  color: var(--bp-text-secondary);
}

.codehilite .cm {
  color: #75715E;
  font-style: italic;
}

.codehilite .cp {
  color: #75715E;
  font-weight: 600;
}

.codehilite .c1 {
  color: #75715E;
  font-style: italic;
}

.codehilite .cs {
  color: #75715E;
  font-style: italic;
  font-weight: 600;
}

.codehilite .gd {
  color: var(--bp-error);
  background: rgba(239, 68, 68, 0.1);
}

.codehilite .ge {
  font-style: italic;
}

.codehilite .gr {
  color: var(--bp-error);
}

.codehilite .gh {
  color: var(--bp-text-muted);
  font-weight: 600;
}

.codehilite .gi {
  color: var(--bp-success);
  background: rgba(34, 197, 94, 0.1);
}

.codehilite .go {
  color: var(--bp-text-secondary);
}

.codehilite .gp {
  color: var(--bp-text-secondary);
}

.codehilite .gs {
  font-weight: 600;
}

.codehilite .gu {
  color: var(--bp-text-muted);
  font-weight: 600;
}

.codehilite .gt {
  color: var(--bp-error);
}

.codehilite .kc {
  color: #F92672;
  font-weight: 600;
}

.codehilite .kd {
  color: #F92672;
  font-weight: 600;
}

.codehilite .kn {
  color: #F92672;
  font-weight: 600;
}

.codehilite .kp {
  color: #F92672;
  font-weight: 600;
}

.codehilite .kr {
  color: #F92672;
  font-weight: 600;
}

.codehilite .kt {
  color: #66D9EF;
}

.codehilite .ld {
  color: #E6DB74;
}

.codehilite .m {
  color: #AE81FF;
}

.codehilite .s {
  color: #E6DB74;
}

.codehilite .na {
  color: #A6E22E;
}

.codehilite .nb {
  color: var(--bp-text-primary);
}

.codehilite .nc {
  color: #A6E22E;
  font-weight: 600;
}

.codehilite .no {
  color: #66D9EF;
}

.codehilite .nd {
  color: #A6E22E;
}

.codehilite .ni {
  color: var(--bp-text-primary);
}

.codehilite .ne {
  color: #A6E22E;
  font-weight: 600;
}

.codehilite .nf {
  color: #A6E22E;
}

.codehilite .nl {
  color: var(--bp-text-primary);
}

.codehilite .nn {
  color: var(--bp-text-primary);
}

.codehilite .nx {
  color: var(--bp-text-primary);
}

.codehilite .py {
  color: var(--bp-text-primary);
}

.codehilite .nt {
  color: #F92672;
}

.codehilite .nv {
  color: var(--bp-text-primary);
}

.codehilite .ow {
  color: #F92672;
  font-weight: 600;
}

.codehilite .w {
  color: var(--bp-text-secondary);
}

.codehilite .mf {
  color: #AE81FF;
}

.codehilite .mh {
  color: #AE81FF;
}

.codehilite .mi {
  color: #AE81FF;
}

.codehilite .mo {
  color: #AE81FF;
}

.codehilite .sb {
  color: #E6DB74;
}

.codehilite .sc {
  color: #E6DB74;
}

.codehilite .sd {
  color: #75715E;
  font-style: italic;
}

.codehilite .s2 {
  color: #E6DB74;
}

.codehilite .se {
  color: #AE81FF;
}

.codehilite .sh {
  color: #E6DB74;
}

.codehilite .si {
  color: #E6DB74;
}

.codehilite .sx {
  color: #E6DB74;
}

.codehilite .sr {
  color: #E6DB74;
}

.codehilite .s1 {
  color: #E6DB74;
}

.codehilite .ss {
  color: #E6DB74;
}

.codehilite .bp {
  color: var(--bp-text-primary);
}

.codehilite .vc {
  color: var(--bp-text-primary);
}

.codehilite .vg {
  color: var(--bp-text-primary);
}

.codehilite .vi {
  color: var(--bp-text-primary);
}

.codehilite .il {
  color: #AE81FF;
}

/* Inline code adjustments */
:not(pre) > code {
  background: rgba(19, 47, 76, 0.5);
  border: 1px solid var(--bp-border);
  color: #A6E22E;
}

/* Language-specific highlights */

/* C++ specific */
.codehilite .cp {
  color: #75715E;
}

.codehilite .cpf {
  color: #E6DB74;
}

/* TypeScript specific */
.codehilite .k-nd {
  color: #F92672;
}

/* ========================================
   Custom code block features
   ======================================== */

/* Copy button styling */
.copy-button {
  position: absolute;
  top: var(--bp-space-sm);
  right: var(--bp-space-sm);
  background: var(--bp-bg-tertiary);
  border: 1px solid var(--bp-border);
  color: var(--bp-text-secondary);
  padding: var(--bp-space-xs) var(--bp-space-sm);
  border-radius: var(--bp-radius-sm);
  font-family: var(--bp-font-mono);
  font-size: 0.75rem;
  cursor: pointer;
  opacity: 0;
  transition: all var(--bp-transition-fast);
}

pre:hover .copy-button {
  opacity: 1;
}

.copy-button:hover {
  background: var(--bp-bg-secondary);
  color: var(--bp-accent);
  border-color: var(--bp-accent);
}

.copy-button.copied {
  background: rgba(34, 197, 94, 0.2);
  color: var(--bp-success);
  border-color: var(--bp-success);
}

/* Line highlight for referenced lines */
.codehilite .ln-highlight {
  background: rgba(255, 107, 53, 0.15);
  display: block;
}

/* ========================================
   Mermaid diagram styling
   ======================================== */

.mermaid {
  background: var(--bp-bg-secondary);
  border: 1px solid var(--bp-border);
  border-radius: var(--bp-radius-lg);
  padding: var(--bp-space-lg);
  margin: var(--bp-space-lg) 0;
}

/* ========================================
   Print styles
   ======================================== */

@media print {
  .linenos {
    background: #f0f0f0;
    color: #666;
  }

  .codehilite {
    color: #000;
  }

  .copy-button {
    display: none;
  }
}
